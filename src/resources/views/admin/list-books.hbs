<div class="container" style="margin-top: 30px;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2>Qu·∫£n l√Ω s√°ch</h2>
        <a href="/admin/add" class="nav-btn signup" style="text-decoration: none;">+ Th√™m s√°ch m·ªõi</a>
    </div>

    {{#if errorMessage}}
    <div class="alert alert-danger"
        style="color: #721c24; background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 12px; border-radius: 4px; margin-bottom: 20px;">
        {{errorMessage}}
    </div>
    {{/if}}

    <table class="table"
        style="width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
        <thead>
            <tr style="background-color: #333; color: white; text-align: left;">
                <th style="padding: 15px;">ID</th>
                <th style="padding: 15px;">H√¨nh ·∫£nh</th>
                <th style="padding: 15px;">Ti√™u ƒë·ªÅ</th>
                <th style="padding: 15px;">T√°c gi·∫£</th>
                <th style="padding: 15px;">Danh m·ª•c</th>
                <th style="padding: 15px;">N·ªôi dung (PDF)</th>
                <th style="padding: 15px;">Thao t√°c</th>
            </tr>
        </thead>
        <tbody>
            {{#each books}}
            <tr
                style="{{#if this.is_deleted}}opacity: 0.6; background-color: #f9f9f9;{{/if}} border-bottom: 1px solid #eee;">
                <td style="padding: 15px;">{{this.id}}</td>
                <td style="padding: 15px;">
                    <img src="/img/{{this.image_url}}"
                        style="width: 50px; height: 70px; object-fit: cover; border-radius: 4px; filter: {{#if this.is_deleted}}grayscale(100%){{/if}};">
                </td>
                <td style="padding: 15px; font-weight: 500;">{{this.title}}</td>
                <td style="padding: 15px;">{{this.author}}</td>

                <td>
                    {{#if this.category_name}}
                    <span class="badge bg-info">{{this.category_name}}</span>
                    {{else}}
                    <span class="text-muted">Ch∆∞a ph√¢n lo·∫°i</span>
                    {{/if}}
                </td>

                <td style="padding: 15px;">
                    {{#if this.pdf_url}}
                    <div style="display: flex; align-items: center; gap: 8px;">
                        <span
                            style="background-color: #27ae60; color: white; padding: 3px 8px; border-radius: 12px; font-size: 11px; white-space: nowrap;">
                            ƒê√£ c√≥ PDF
                        </span>
                        <a href="/pdf/{{this.pdf_url}}" target="_blank" title="Xem n·ªôi dung"
                            style="text-decoration: none; font-size: 16px;">
                            üëÅÔ∏è
                        </a>
                    </div>
                    {{else}}
                    <span
                        style="background-color: #95a5a6; color: white; padding: 3px 8px; border-radius: 12px; font-size: 11px; white-space: nowrap;">
                        Ch∆∞a c√≥
                    </span>
                    {{/if}}
                </td>

                <td style="padding: 15px;">

                    <div style="display: flex; gap: 15px;">
                        <a href="/admin/edit/{{this.id}}"
                            style="color: #ff9800; text-decoration: none; font-weight: 500;">
                            <i class="fas fa-edit"></i> S·ª≠a
                        </a>
                        <a href="/admin/delete/{{this.id}}"
                            onclick="return confirm('B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a cu·ªën s√°ch n√†y?')"
                            style="color: #e74c3c; text-decoration: none; font-weight: 500;">
                            <i class="fas fa-trash-alt"></i> X√≥a
                        </a>
                    </div>

                </td>
            </tr>
            {{/each}}
        </tbody>
    </table>
</div>